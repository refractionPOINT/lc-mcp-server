# LimaCharlie MCP Server Configuration

# ============================================================================
# Server Mode Configuration
# ============================================================================
# Mode: "stdio" for STDIO mode (Claude Desktop), "http" for HTTP mode (OAuth)
MCP_MODE=http

# Profile to expose: all, core, historical_data, live_investigation, 
# threat_response, fleet_management, detection_engineering, platform_admin
MCP_PROFILE=all

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ============================================================================
# HTTP Server Configuration (required for http mode)
# ============================================================================
# Port for HTTP server (Cloud Run sets this automatically)
PORT=8080

# Public server URL for OAuth metadata (MUST be accessible by OAuth clients)
# In production, use your actual public URL (e.g., https://mcp.example.com)
MCP_SERVER_URL=http://localhost:8080

# ============================================================================
# Redis Configuration (required for http mode)
# ============================================================================
# Redis server address (host:port)
REDIS_ADDRESS=localhost:6379

# Redis password (leave empty if no password)
REDIS_PASSWORD=changeme

# Redis database number (0-15)
REDIS_DB=0

# ============================================================================
# OAuth Configuration (required for http mode)
# ============================================================================
# NOTE: Firebase API key is hardcoded in the application (it's a public token)

# Encryption key for token storage (REQUIRED - base64-encoded 32 bytes for AES-256)
# Generate with: python3 -c "import os,base64; print(base64.b64encode(os.urandom(32)).decode())"
# Or with: openssl rand -base64 32
REDIS_ENCRYPTION_KEY=dGVzdC1lbmNyeXB0aW9uLWtleS0zMi1ieXRlc2Vh

# ============================================================================
# LimaCharlie API Credentials
# ============================================================================
# These credentials are used by the server to make LimaCharlie API calls
# on behalf of authenticated users

# Organization ID (for normal mode)
LC_OID=

# API Key (for normal mode)
LC_API_KEY=

# User ID (for UID mode)
LC_UID=

# JWT Token (for UID OAuth mode)
LC_JWT=

# Environment (for UID OAuth mode)
LC_CURRENT_ENV=

# ============================================================================
# Optional Features
# ============================================================================
# Enable audit logging
AUDIT_LOG_ENABLED=false

# Audit log level: LOW, MEDIUM, HIGH
AUDIT_LOG_LEVEL=MEDIUM

# SDK cache TTL (e.g., "5m", "1h")
SDK_CACHE_TTL=5m
